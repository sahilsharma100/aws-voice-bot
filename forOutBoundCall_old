{"modules":[{"id":"1ee69867-a10f-4208-96af-8cc147009411","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2490,"y":249.99999999999997}}},{"id":"c525b5f6-1b40-4166-aa3d-c928916b6bda","type":"SetAttributes","branches":[{"condition":"Success","transition":"efc4ce6b-5e85-43d6-8cc0-68dab8cda011"},{"condition":"Error","transition":"93530821-536b-4cf9-9ddd-86452105a313"}],"parameters":[{"name":"Attribute","value":"CheckinTimeSlot","key":"CheckinTimeSlot","namespace":"Lex.Slots"},{"name":"Attribute","value":"CheckoutTimeSlot","key":"CheckoutTimeSlot","namespace":"Lex.Slots"},{"name":"Attribute","value":"LocationSlot","key":"LocationSlot","namespace":"Lex.Slots"},{"name":"Attribute","value":"Outstandingissue","key":"Outstandingissue","namespace":"Lex.Slots"},{"name":"Attribute","value":"TempSlot","key":"TempSlot","namespace":"Lex.Slots"},{"name":"Attribute","value":"eta","key":"eta","namespace":"Lex.Slots"},{"name":"Attribute","value":"ontrack","key":"ontrack","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1062,"y":45},"dynamicParams":["CheckinTimeSlot","CheckoutTimeSlot","LocationSlot","Outstandingissue","TempSlot","eta","ontrack"]}},{"id":"cd9fc4f6-c0af-4630-941a-1ffd7f47886e","type":"Transfer","branches":[{"condition":"Success","transition":"93530821-536b-4cf9-9ddd-86452105a313"},{"condition":"CallFailure","transition":"93530821-536b-4cf9-9ddd-86452105a313"},{"condition":"Timeout","transition":"93530821-536b-4cf9-9ddd-86452105a313"},{"condition":"Error","transition":"93530821-536b-4cf9-9ddd-86452105a313"}],"parameters":[{"name":"TimeLimit","value":"30"},{"name":"BlindTransfer","value":false},{"name":"PhoneNumber","value":"+12052914422"}],"metadata":{"position":{"x":1865,"y":132},"CountryCode":"us"},"target":"PhoneNumber"},{"id":"c9a1cfb6-d1f2-47d4-9f85-c15bc3e6d0d8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"cd9fc4f6-c0af-4630-941a-1ffd7f47886e"}],"parameters":[{"name":"Text","value":"Transfering Call ...","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1660,"y":234.99999999999997},"useDynamic":false}},{"id":"978f1d9e-ba46-4f63-b961-2db62b9f3547","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"StopTypeIntent","transition":"c525b5f6-1b40-4166-aa3d-c928916b6bda"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"no","transition":"20fa319d-6df6-4439-ad19-b9d083bbf92b"},{"condition":"NoMatch","transition":"1ee69867-a10f-4208-96af-8cc147009411"},{"condition":"Error","transition":"e1e69330-a530-4bdd-aaaf-e078bb53cbbb"}],"parameters":[{"name":"Text","value":"Is  $.Attributes.StopType, complated at $.Attributes.FacilityName,   $.Attributes.City,  $.Attributes.State, ?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"GetLoad_Bot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-west-2"}],"metadata":{"position":{"x":785,"y":15},"conditionMetadata":[{"id":"6031fc1d-2a08-4404-bede-b1e09caed1f9","value":"StopTypeIntent"},{"id":"634f39a5-254c-4740-80fd-2a076a53987f","value":"no"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"GetLoad_Bot"},"target":"Lex"},{"id":"efc4ce6b-5e85-43d6-8cc0-68dab8cda011","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"20fa319d-6df6-4439-ad19-b9d083bbf92b"},{"condition":"Error","transition":"93530821-536b-4cf9-9ddd-86452105a313"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-west-2:479620737975:function:saveToDb","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"woId","value":"$.Attributes.WoNumber","namespace":null},{"name":"Parameter","key":"CheckoutTimeSlot","value":"CheckoutTimeSlot","namespace":"User Defined"},{"name":"Parameter","key":"CheckinTimeSlot","value":"CheckinTimeSlot","namespace":"User Defined"},{"name":"Parameter","key":"LocationSlot","value":"LocationSlot","namespace":"User Defined"},{"name":"Parameter","key":"Outstandingissue","value":"Outstandingissue","namespace":"User Defined"},{"name":"Parameter","key":"TempSlot","value":"TempSlot","namespace":"User Defined"},{"name":"Parameter","key":"eta","value":"eta","namespace":"User Defined"},{"name":"Parameter","key":"ontrack","value":"ontrack","namespace":"User Defined"}],"metadata":{"position":{"x":1353,"y":81.88507581803671},"dynamicMetadata":{"woId":false,"CheckoutTimeSlot":true,"CheckinTimeSlot":true,"LocationSlot":true,"Outstandingissue":true,"TempSlot":true,"eta":true,"ontrack":true},"useDynamic":false},"target":"Lambda"},{"id":"20fa319d-6df6-4439-ad19-b9d083bbf92b","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ifyes","transition":"c9a1cfb6-d1f2-47d4-9f85-c15bc3e6d0d8"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ifno","transition":"93530821-536b-4cf9-9ddd-86452105a313"},{"condition":"NoMatch","transition":"93530821-536b-4cf9-9ddd-86452105a313"},{"condition":"Error","transition":"ec35c8a6-157f-463a-bebe-94b1511db56b"}],"parameters":[{"name":"Text","value":"Do you want to talk with dispatcher ?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"contectline"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-west-2"}],"metadata":{"position":{"x":1357,"y":299.88507581803674},"conditionMetadata":[{"id":"714c4952-c1c7-4dcb-b735-d82d5a3223fa","value":"ifyes"},{"id":"50114a34-b956-45b0-bbe4-4a3521ec134a","value":"ifno"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"contectline"},"target":"Lex"},{"id":"ec35c8a6-157f-463a-bebe-94b1511db56b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"20fa319d-6df6-4439-ad19-b9d083bbf92b"}],"parameters":[{"name":"Text","value":"Sorry This is a invalid option. Try Again","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1311,"y":616},"useDynamic":false}},{"id":"e1e69330-a530-4bdd-aaaf-e078bb53cbbb","type":"PlayPrompt","branches":[{"condition":"Success","transition":"978f1d9e-ba46-4f63-b961-2db62b9f3547"}],"parameters":[{"name":"Text","value":"Sorry This is a invalid option. Try Again","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1069,"y":287},"useDynamic":false}},{"id":"aa61213e-405c-4a0e-80ae-0469e5348633","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"yes","transition":"c525b5f6-1b40-4166-aa3d-c928916b6bda"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"nostoptype","transition":"20fa319d-6df6-4439-ad19-b9d083bbf92b"},{"condition":"NoMatch","transition":"93530821-536b-4cf9-9ddd-86452105a313"},{"condition":"Error","transition":"df2daca5-58e8-4ced-9612-f9755f2b7022"}],"parameters":[{"name":"Text","value":"Is  $.Attributes.StopType, complated at $.Attributes.FacilityName,   $.Attributes.City,  $.Attributes.State, ?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"Stoptypeno"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-west-2"}],"metadata":{"position":{"x":783,"y":321},"conditionMetadata":[{"id":"1e88f266-25a6-4480-a193-503ce778fc42","value":"yes"},{"id":"07ed0c26-b7f1-4d50-8fb5-f105a1618f0a","value":"nostoptype"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"GetLoad_Bot"},"target":"Lex"},{"id":"df2daca5-58e8-4ced-9612-f9755f2b7022","type":"PlayPrompt","branches":[{"condition":"Success","transition":"aa61213e-405c-4a0e-80ae-0469e5348633"}],"parameters":[{"name":"Text","value":"Sorry This is a invalid option. Try Again","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1033,"y":615},"useDynamic":false}},{"id":"b4f761e7-370c-4ac9-9b44-67e3ec6a57e2","type":"SetVoice","branches":[{"condition":"Success","transition":"f551c161-9dfa-49b3-8c9c-92d25894a8eb"}],"parameters":[{"name":"GlobalVoice","value":"Joanna"}],"metadata":{"position":{"x":197,"y":127},"overrideConsoleVoice":false,"defaultVoice":"Conversational","fragments":{"SetContactData":"f551c161-9dfa-49b3-8c9c-92d25894a8eb"}}},{"id":"f551c161-9dfa-49b3-8c9c-92d25894a8eb","type":"SetContactData","branches":[{"condition":"Success","transition":"39e0f1f1-0ce5-46e2-89ad-466b4e9da2db"},{"condition":"Error","transition":"39e0f1f1-0ce5-46e2-89ad-466b4e9da2db"}],"parameters":[{"name":"ContactData","namespace":null,"languageCode":"en-US"}],"metadata":{"position":{"x":0,"y":0}}},{"id":"2a29c02a-74ff-4b7c-9ecf-a414dc62e3b6","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"978f1d9e-ba46-4f63-b961-2db62b9f3547"},{"condition":"Error","transition":"aa61213e-405c-4a0e-80ae-0469e5348633"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-west-2:479620737975:function:checkStopType","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"name","value":"$.Attributes.name","namespace":null},{"name":"Parameter","key":"woId","value":"$.Attributes.WoNumber","namespace":null}],"metadata":{"position":{"x":526,"y":184},"dynamicMetadata":{"name":false,"woId":false},"useDynamic":false},"target":"Lambda"},{"id":"93530821-536b-4cf9-9ddd-86452105a313","type":"PlayPrompt","branches":[{"condition":"Success","transition":"1ee69867-a10f-4208-96af-8cc147009411"}],"parameters":[{"name":"Text","value":"Thank you $.Attributes.name, for attending the call and working with us. Have a great day.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2187,"y":248.99999999999997},"useDynamic":false}},{"id":"39e0f1f1-0ce5-46e2-89ad-466b4e9da2db","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2a29c02a-74ff-4b7c-9ecf-a414dc62e3b6"}],"parameters":[{"name":"Text","value":"<speak>\n<break time=\"2s\"/>.\n Hello $.Attributes.name How are you doing?  This is Automated dispatcher call from $.Attributes.companyName\n<break time=\"1s\"/>.\nI am calling regarding workorder <say-as interpret-as=\"characters\">$.Attributes.WoNumber</say-as> \n<break time=\"1s\"/>.\n$.Attributes.LoadInfo . Pickup date time is $.Attributes.PickupDateTime and delivery date time is $.Attributes.DeliveryDateTime </speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":204,"y":303},"useDynamic":false}}],"version":"1","start":"b4f761e7-370c-4ac9-9b44-67e3ec6a57e2","metadata":{"entryPointPosition":{"x":15,"y":170},"snapToGrid":false,"name":"forOutBoundCall","description":null,"type":"contactFlow","status":"published","hash":"61e30cdf41422df2a7a36df0a207d494ac084301f62f05257d2311b884ab90ac"},"type":"contactFlow"}